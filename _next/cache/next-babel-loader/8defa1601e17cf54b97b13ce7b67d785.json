{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Layout from '@components/Layout';\nimport { ARTICLE_DETAIL } from '@constance/api';\nimport classNames from 'classnames';\nimport { PROJECT_NAME } from '@constance/index';\nimport http from '@utils/http';\nimport ReactMarkdown from 'react-markdown';\nimport './detail.less';\nimport CodeBlock from \"@components/CodeBlock\";\n\nvar BlogDetail = function BlogDetail(_ref) {\n  var detail = _ref.detail,\n      prev = _ref.prev,\n      next = _ref.next;\n  var classString = classNames(_defineProperty({}, \"\".concat(PROJECT_NAME, \"-blog-detail\"), true));\n  return __jsx(Layout, {\n    title: detail.name\n  }, __jsx(ReactMarkdown, {\n    className: classString,\n    source: detail.content,\n    escapeHtml: false,\n    renderers: {\n      code: CodeBlock\n    }\n  }));\n};\n\nBlogDetail.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var id, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = ctx.query.id;\n            _context.next = 3;\n            return http.get(\"\".concat(ARTICLE_DETAIL, \"/\").concat(id));\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", {\n              detail: res.result.detail,\n              next: res.result.next,\n              prev: res.result.prev\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default BlogDetail;","map":{"version":3,"sources":["/Users/daiwei/pr/react-website-next/pages/Blog/detail/index.tsx"],"names":["React","Layout","ARTICLE_DETAIL","classNames","PROJECT_NAME","http","ReactMarkdown","CodeBlock","BlogDetail","detail","prev","next","classString","name","content","code","getInitialProps","ctx","id","query","get","res","result"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,SACEC,cADF,QAEO,gBAFP;AAGA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SACEC,YADF,QAEO,kBAFP;AAGA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,OAAO,eAAP;AACA,OAAOC,SAAP,MAAsB,uBAAtB;;AA4BA,IAAMC,UAAyC,GAAG,SAA5CA,UAA4C,OAA4B;AAAA,MAAzBC,MAAyB,QAAzBA,MAAyB;AAAA,MAAjBC,IAAiB,QAAjBA,IAAiB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAC5E,MAAMC,WAAW,GAAGT,UAAU,+BACxBC,YADwB,mBACK,IADL,EAA9B;AAGA,SACE,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEK,MAAM,CAACI;AAAtB,KACG,MAAC,aAAD;AAAe,IAAA,SAAS,EAAED,WAA1B;AACY,IAAA,MAAM,EAAEH,MAAM,CAACK,OAD3B;AAEY,IAAA,UAAU,EAAE,KAFxB;AAGY,IAAA,SAAS,EAAE;AACVC,MAAAA,IAAI,EAAER;AADI;AAHvB,IADH,CADF;AAUD,CAdD;;AAgBAC,UAAU,CAACQ,eAAX;AAAA,uEAA6B,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBC,YAAAA,EADqB,GAChBD,GAAG,CAACE,KAAJ,CAAUD,EADM;AAAA;AAAA,mBAETb,IAAI,CAACe,GAAL,WAAYlB,cAAZ,cAA8BgB,EAA9B,EAFS;;AAAA;AAErBG,YAAAA,GAFqB;AAAA,6CAGpB;AACLZ,cAAAA,MAAM,EAAEY,GAAG,CAACC,MAAJ,CAAWb,MADd;AAELE,cAAAA,IAAI,EAAEU,GAAG,CAACC,MAAJ,CAAWX,IAFZ;AAGLD,cAAAA,IAAI,EAAEW,GAAG,CAACC,MAAJ,CAAWZ;AAHZ,aAHoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA;;AASA,eAAeF,UAAf","sourcesContent":["import React from 'react'\nimport {\n  NextPage\n} from 'next'\nimport Layout from '@components/Layout'\nimport {\n  ARTICLE_DETAIL\n} from '@constance/api'\nimport classNames from 'classnames'\nimport {\n  PROJECT_NAME\n} from '@constance/index'\nimport http from '@utils/http'\nimport ReactMarkdown from 'react-markdown'\nimport './detail.less'\nimport CodeBlock from \"@components/CodeBlock\";\n\ninterface IBlogListCategorieOrTag {\n  id: string;\n  name: string;\n}\n\ninterface IBlogDetail {\n  id: string;\n  name: string;\n  readCount: string;\n  editDate: string;\n  createDate: string;\n  tagLists: IBlogListCategorieOrTag[];\n  content: string;\n}\n\ninterface IBlogPrevNext {\n  id: string | null;\n  name: string | null;\n}\n\ninterface BlogDetailProps {\n  detail: IBlogDetail,\n  next: IBlogPrevNext,\n  prev: IBlogPrevNext\n}\n\nconst BlogDetail: NextPage<BlogDetailProps, {}> = ({ detail, prev, next }) => {\n  const classString = classNames({\n    [`${PROJECT_NAME}-blog-detail`]: true\n  })\n  return (\n    <Layout title={detail.name}>\n       <ReactMarkdown className={classString}\n                   source={detail.content}\n                   escapeHtml={false}\n                   renderers={{\n                    code: CodeBlock\n                   }}/>\n    </Layout>\n  )\n}\n\nBlogDetail.getInitialProps = async (ctx) => {\n  const id = ctx.query.id\n  const res = await http.get(`${ARTICLE_DETAIL}/${id}`)\n  return {\n    detail: res.result.detail,\n    next: res.result.next,\n    prev: res.result.prev\n  }\n}\nexport default BlogDetail\n"]},"metadata":{},"sourceType":"module"}