{"ast":null,"code":"var _jsxFileName = \"/Users/daiwei/pr/react-website-next/pages/blog/detail/index.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Layout from '@components/Layout';\nimport { ARTICLE_DETAIL } from '@constance/api';\nimport classNames from 'classnames';\nimport { PROJECT_NAME } from '@constance/index';\nimport http from '@utils/req';\nimport ReactMarkdown from 'react-markdown';\nimport './detail.less';\nimport CodeBlock from \"@components/CodeBlock\";\nimport Link from 'next/link';\n\nconst BlogDetail = ({\n  detail,\n  prev,\n  next\n}) => {\n  const classString = classNames({\n    [`${PROJECT_NAME}-blog-detail`]: true\n  });\n\n  const handleGo = info => {\n    if (info.id) {\n      history.push(`/blog/detail?id=${info.id}`);\n    }\n  };\n\n  return detail && detail.id ? __jsx(Layout, {\n    title: detail.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: `${classString}-title`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, detail.name), __jsx(ReactMarkdown, {\n    className: classString,\n    source: detail.content,\n    escapeHtml: false,\n    renderers: {\n      code: CodeBlock\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: `${classString}-entry`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: `/blog/detail?id=${prev.id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: `${classString}-entry-prev`,\n    onClick: handleGo.bind(null, prev),\n    title: prev.name || '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, prev.name ? `上一篇 : ${prev.name}` : '')), __jsx(Link, {\n    href: `/blog/detail?id=${next.id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: `${classString}-entry-next`,\n    onClick: handleGo.bind(null, next),\n    title: next.name || '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, next.name ? `下一篇 : ${next.name}` : '')))) : __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"\\u52A0\\u8F7D\\u4E2D...\");\n};\n\nBlogDetail.getInitialProps = async ctx => {\n  const {\n    id\n  } = ctx.query;\n  const {\n    data\n  } = await http.get(`${ARTICLE_DETAIL}/${id}`);\n  return {\n    detail: data.result && data.result.detail || {},\n    next: data.result && data.result.next || null,\n    prev: data.result && data.result.prev || null\n  };\n};\n\nexport default BlogDetail;","map":{"version":3,"sources":["/Users/daiwei/pr/react-website-next/pages/blog/detail/index.tsx"],"names":["React","Layout","ARTICLE_DETAIL","classNames","PROJECT_NAME","http","ReactMarkdown","CodeBlock","Link","BlogDetail","detail","prev","next","classString","handleGo","info","id","history","push","name","content","code","bind","getInitialProps","ctx","query","data","get","result"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n  NextPage\n} from 'next'\nimport Layout from '@components/Layout'\nimport {\n  ARTICLE_DETAIL\n} from '@constance/api'\nimport classNames from 'classnames'\nimport {\n  PROJECT_NAME\n} from '@constance/index'\nimport http from '@utils/req'\nimport ReactMarkdown from 'react-markdown'\nimport './detail.less'\nimport CodeBlock from \"@components/CodeBlock\";\nimport Link from 'next/link'\n\ninterface IBlogListCategorieOrTag {\n  id: string;\n  name: string;\n}\n\ninterface IBlogDetail {\n  id: string;\n  name: string;\n  readCount: string;\n  editDate: string;\n  createDate: string;\n  tagLists: IBlogListCategorieOrTag[];\n  content: string;\n}\n\ninterface IBlogPrevNext {\n  id: string | null;\n  name: string | null;\n}\n\ninterface BlogDetailProps {\n  detail: IBlogDetail,\n  next: IBlogPrevNext,\n  prev: IBlogPrevNext\n}\n\nconst BlogDetail: NextPage<BlogDetailProps, {}> = ({ detail, prev, next }) => {\n  const classString = classNames({\n    [`${PROJECT_NAME}-blog-detail`]: true\n  })\n\n  const handleGo = (info: IBlogPrevNext) => {\n    if (info.id) {\n      history.push(`/blog/detail?id=${info.id}`)\n    }\n  }\n\n  return (\n    (\n      detail && detail.id ? (\n        <Layout title={detail.name}>\n          <h1 className={`${classString}-title`}>{detail.name}</h1>\n          <ReactMarkdown className={classString}\n                      source={detail.content}\n                      escapeHtml={false}\n                      renderers={{\n                        code: CodeBlock\n                      }}/>\n          <div className={`${classString}-entry`}>\n            <Link href={`/blog/detail?id=${prev.id}`}>\n              <a className={`${classString}-entry-prev`}\n                  onClick={handleGo.bind(null, prev)}\n                  title={prev.name || ''}>\n                { prev.name ? `上一篇 : ${prev.name}` : '' }\n              </a>\n            </Link>\n            <Link href={`/blog/detail?id=${next.id}`}>\n              <a className={`${classString}-entry-next`}\n                  onClick={handleGo.bind(null, next)}\n                  title={next.name || ''}>\n                { next.name ? `下一篇 : ${next.name}` : '' }\n              </a>\n            </Link >\n          </div>\n        </Layout>\n      ) : (\n        <div>加载中...</div>\n      )\n    )\n  )\n}\n\nBlogDetail.getInitialProps = async (ctx) => {\n  const { id }  = ctx.query\n  const { data } = await http.get(`${ARTICLE_DETAIL}/${id}`)\n  return {\n    detail: data.result && data.result.detail || {},\n    next: data.result && data.result.next || null,\n    prev: data.result && data.result.prev || null\n  }\n}\nexport default BlogDetail\n"]},"metadata":{},"sourceType":"module"}