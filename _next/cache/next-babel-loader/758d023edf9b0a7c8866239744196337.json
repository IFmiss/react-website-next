{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/daiwei/pr/react-website-next/components/SiderWarp/index.tsx\";\nvar __jsx = React.createElement;\nimport React, { useRef, useState, useEffect, useImperativeHandle } from 'react';\nimport classNames from 'classnames';\nimport { PROJECT_NAME } from '@constance/index';\nimport './sider-warp.less';\nimport { addClass, removeClass } from '@root/utils/utils';\n\nvar SiderWarp = function SiderWarp(props, ref) {\n  var _classNames;\n\n  var _props$name = props.name,\n      name = _props$name === void 0 ? '菜单' : _props$name,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'bottom' : _props$type;\n\n  var _useState = useState(props.show || true),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var classString = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(PROJECT_NAME, \"-comp-sider-warp\"), true), _defineProperty(_classNames, \"show\", show), _defineProperty(_classNames, \"\".concat(type), true), _classNames));\n  var classWrap = classNames(_defineProperty({}, \"\".concat(PROJECT_NAME, \"-comp-sider-warp\"), true));\n  useEffect(function () {\n    if (show) {\n      addClass(document.getElementById('dw-next-container'), \"sider-warp-\".concat(type));\n    } else {\n      removeClass(document.getElementById('dw-next-container'), \"sider-warp-\".concat(type));\n    }\n  }, [show]);\n\n  var hideComp = function hideComp() {\n    setShow(function (show) {\n      return show = false;\n    });\n    props.hideFn && props.hideFn();\n  };\n\n  var showComp = function showComp() {\n    setShow(function (show) {\n      return show = true;\n    });\n    props.showFn && props.showFn();\n  };\n\n  var toggleSiderWarp = function toggleSiderWarp() {\n    show ? props.hideFn && props.hideFn() : props.showFn && props.showFn();\n    setShow(function (show) {\n      return show = !show;\n    });\n  };\n\n  var mapRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      showComp: showComp,\n      hideComp: hideComp\n    };\n  });\n  return __jsx(\"section\", {\n    className: classString,\n    ref: mapRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"\".concat(classWrap, \"-mask\"),\n    onClick: hideComp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"\".concat(classWrap, \"-content\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"\".concat(classWrap, \"-content-title\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, name), __jsx(\"div\", {\n    className: \"\".concat(classWrap, \"-content-wrapper\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"asdasdasd\")));\n};\n\nvar SiderWarpComponent = React.forwardRef(SiderWarp);\nexport default SiderWarpComponent;","map":{"version":3,"sources":["/Users/daiwei/pr/react-website-next/components/SiderWarp/index.tsx"],"names":["React","useRef","useState","useEffect","useImperativeHandle","classNames","PROJECT_NAME","addClass","removeClass","SiderWarp","props","ref","name","type","show","setShow","classString","classWrap","document","getElementById","hideComp","hideFn","showComp","showFn","toggleSiderWarp","mapRef","SiderWarpComponent","forwardRef"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, useImperativeHandle, ReactElement, useMemo } from 'react'\nimport classNames from 'classnames'\nimport { PROJECT_NAME } from '@constance/index'\nimport './sider-warp.less'\nimport Menu from './menu.svg'\nimport { addClass, removeClass } from '@root/utils/utils'\n\ninterface ISiderWarpProps {\n  show: boolean;\n  type: SiderPosition;\n  name: string | ReactElement;\n  hideFn?: () => void;\n  showFn?: () => void;\n}\n\ninterface ISiderWrapRef {\n  showComp: () => void;\n  hideComp: () => void;\n}\n\ntype SiderType = 'fixed' | 'auto'\n\ntype SiderPosition = 'right' | 'left' | 'bottom'\n\nconst SiderWarp: React.ForwardRefRenderFunction<ISiderWrapRef, ISiderWarpProps> = (props, ref) => {\n  const { name = '菜单', type = 'bottom' } = props\n  const [show, setShow] = useState<boolean>(props.show || true)\n\n  const classString = classNames({\n    [`${PROJECT_NAME}-comp-sider-warp`]: true,\n    [`show`]: show,\n    [`${type}`]: true\n  })\n  \n  const classWrap = classNames({\n    [`${PROJECT_NAME}-comp-sider-warp`]: true\n  })\n\n  useEffect(() => {\n    if (show) {\n      addClass(document.getElementById('dw-next-container') as HTMLElement, `sider-warp-${type}`)\n    } else {\n      removeClass(document.getElementById('dw-next-container') as HTMLElement, `sider-warp-${type}`)\n    }\n  }, [show])\n\n  const hideComp = () => {\n    setShow((show) => show = false)\n    props.hideFn && props.hideFn()\n  }\n\n  const showComp = () => {\n    setShow((show) => show = true)\n    props.showFn && props.showFn()\n  }\n\n  const toggleSiderWarp = () => {\n    show ? props.hideFn && props.hideFn() : props.showFn && props.showFn()\n    setShow((show) => show = !show)\n  }\n\n  const mapRef = useRef(null)\n\n  useImperativeHandle(ref, () => {\n    return {\n      showComp,\n      hideComp\n    }\n  })\n\n  return (\n    <section className={classString} ref={mapRef}>\n      <div className={`${classWrap}-mask`} onClick={hideComp}></div>\n      <div className={`${classWrap}-content`}>\n        <div className={`${classWrap}-content-title`}>{\n          name\n        }</div>\n        <div className={`${classWrap}-content-wrapper`}>\n          {/* {props.children} */}\n          asdasdasd\n        </div>\n      </div>\n    </section>\n  )\n}\n\nconst SiderWarpComponent = React.forwardRef(SiderWarp)\n\nexport default SiderWarpComponent as any"]},"metadata":{},"sourceType":"module"}