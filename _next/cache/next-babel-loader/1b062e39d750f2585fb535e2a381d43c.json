{"ast":null,"code":"var _jsxFileName = \"/Users/daiwei/pr/react-website-next/components/SiderWarp/index.tsx\";\nvar __jsx = React.createElement;\nimport React, { useRef, useState, useEffect, useImperativeHandle } from 'react';\nimport classNames from 'classnames';\nimport { PROJECT_NAME } from '@constance/index';\nimport './sider-warp.less';\nimport { isAppleDevice } from '@utils/utils';\nimport { addClass, removeClass } from '@root/utils/utils';\n\nconst SiderWarp = (props, ref) => {\n  const siderRef = useRef(null);\n  const {\n    name = '菜单',\n    type = 'right'\n  } = props;\n  const {\n    0: show,\n    1: setShow\n  } = useState(props.show || true);\n  const classString = classNames({\n    [`${PROJECT_NAME}-comp-sider-warp`]: true,\n    [`show`]: show,\n    [`${type}`]: true\n  });\n  const classWrap = classNames({\n    [`${PROJECT_NAME}-comp-sider-warp`]: true\n  });\n  useEffect(() => {\n    if (show) {\n      addClass(document.getElementById('dw-next-container'), `sider-warp-${type}`);\n    } else {\n      removeClass(document.getElementById('dw-next-container'), `sider-warp-${type}`);\n    }\n  }, [show]);\n  useEffect(() => {\n    if (isAppleDevice() && siderRef.current) {\n      addClass(siderRef.current, 'blur');\n    }\n  }, []);\n\n  const hideComp = () => {\n    setShow(show => show = false);\n    props.hideFn && props.hideFn();\n  };\n\n  const showComp = () => {\n    setShow(show => show = true);\n    props.showFn && props.showFn();\n  };\n\n  const toggleSiderWarp = () => {\n    show ? props.hideFn && props.hideFn() : props.showFn && props.showFn();\n    setShow(show => show = !show);\n  };\n\n  useImperativeHandle(ref, () => {\n    return {\n      showComp,\n      hideComp\n    };\n  });\n  return __jsx(\"section\", {\n    className: classString,\n    ref: siderRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: `${classWrap}-mask`,\n    onClick: hideComp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: `${classWrap}-content`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: `${classWrap}-content-title`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, name, \"- \", String(isAppleDevice())), __jsx(\"div\", {\n    className: `${classWrap}-content-wrapper`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"asdasdasd\")));\n};\n\nconst SiderWarpComponent = React.forwardRef(SiderWarp);\nexport default SiderWarpComponent;","map":{"version":3,"sources":["/Users/daiwei/pr/react-website-next/components/SiderWarp/index.tsx"],"names":["React","useRef","useState","useEffect","useImperativeHandle","classNames","PROJECT_NAME","isAppleDevice","addClass","removeClass","SiderWarp","props","ref","siderRef","name","type","show","setShow","classString","classWrap","document","getElementById","current","hideComp","hideFn","showComp","showFn","toggleSiderWarp","String","SiderWarpComponent","forwardRef"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, useImperativeHandle, ReactElement, useMemo } from 'react'\nimport classNames from 'classnames'\nimport { PROJECT_NAME } from '@constance/index'\nimport './sider-warp.less'\nimport Menu from './menu.svg'\nimport {\n  isAppleDevice\n} from '@utils/utils'\nimport { addClass, removeClass } from '@root/utils/utils'\n\ninterface ISiderWarpProps {\n  show: boolean;\n  type: SiderPosition;\n  name: string | ReactElement;\n  hideFn?: () => void;\n  showFn?: () => void;\n}\n\ninterface ISiderWrapRef {\n  showComp: () => void;\n  hideComp: () => void;\n}\n\ntype SiderType = 'fixed' | 'auto'\n\ntype SiderPosition = 'right' | 'left' | 'bottom'\n\nconst SiderWarp: React.ForwardRefRenderFunction<ISiderWrapRef, ISiderWarpProps> = (props, ref) => {\n  const siderRef = useRef<HTMLElement>(null)\n  const { name = '菜单', type = 'right' } = props\n  const [show, setShow] = useState<boolean>(props.show || true)\n\n  const classString = classNames({\n    [`${PROJECT_NAME}-comp-sider-warp`]: true,\n    [`show`]: show,\n    [`${type}`]: true\n  })\n  \n  const classWrap = classNames({\n    [`${PROJECT_NAME}-comp-sider-warp`]: true\n  })\n\n  useEffect(() => {\n    if (show) {\n      addClass(document.getElementById('dw-next-container') as HTMLElement, `sider-warp-${type}`)\n    } else {\n      removeClass(document.getElementById('dw-next-container') as HTMLElement, `sider-warp-${type}`)\n    }\n  }, [show])\n\n  useEffect(() => {\n    if (isAppleDevice() && siderRef.current) {\n      addClass(siderRef.current, 'blur')\n    }\n  }, [])\n\n  const hideComp = () => {\n    setShow((show) => show = false)\n    props.hideFn && props.hideFn()\n  }\n\n  const showComp = () => {\n    setShow((show) => show = true)\n    props.showFn && props.showFn()\n  }\n\n  const toggleSiderWarp = () => {\n    show ? props.hideFn && props.hideFn() : props.showFn && props.showFn()\n    setShow((show) => show = !show)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      showComp,\n      hideComp\n    }\n  })\n\n  return (\n    <section className={classString} ref={siderRef}>\n      <div className={`${classWrap}-mask`} onClick={hideComp}></div>\n      <div className={`${classWrap}-content`}>\n        <div className={`${classWrap}-content-title`}>{\n          name\n        }- {String(isAppleDevice())}</div>\n        <div className={`${classWrap}-content-wrapper`}>\n          {/* {props.children} */}\n          asdasdasd\n        </div>\n      </div>\n    </section>\n  )\n}\n\nconst SiderWarpComponent = React.forwardRef(SiderWarp)\n\nexport default SiderWarpComponent as any"]},"metadata":{},"sourceType":"module"}